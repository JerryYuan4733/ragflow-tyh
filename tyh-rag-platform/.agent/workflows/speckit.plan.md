---
description: ④ 开发计划 - 创建 MVP 拆解、里程碑和工时估算。
---

## User Input

```text
$ARGUMENTS
```

You **MUST** consider the user input before proceeding (if not empty).

## 流程概述

本工作流对应开发流程 **④ 开发计划**，产出物为 `{功能}-开发计划.md`，归档至 `docs/plan/`。

> **注意**：技术选型和架构设计应在 `/speckit.architecture`（③）中完成。

### 步骤

1. **识别当前功能**：
   - 获取当前分支名
   - 在 `.specify/specs/` 中找到对应 spec

2. **加载上下文**：
   - 读取需求规格 `spec.md`
   - 读取产品设计 `product.md`
   - 读取架构设计 `architecture.md`
   - 读取 `.specify/memory/constitution.md`
   - 加载 `.specify/templates/plan-template.md`

3. **生成开发计划**：

   ### 核心内容
   - **MVP 定义**：最小可行产品范围
   - **里程碑拆分**：阶段性目标
   - **工时估算**：各阶段时间
   - **风险识别**：潜在风险和应对
   - **依赖项**：外部依赖和阻塞项

4. **保存并归档**：
   - 写入 `.specify/specs/<feature>/plan.md`（工作副本）
   - 归档到 `docs/plan/{功能}-开发计划.md`

5. **报告**：输出开发计划路径、里程碑概览

## 产出物模板

```markdown
# {功能名称} - 开发计划

## MVP 定义

### 必须实现
- [ ] {功能点1}
- [ ] {功能点2}

### 可延后
- [ ] {功能点3}

## 里程碑

| 里程碑 | 目标 | 预计完成 | 交付物 |
|--------|------|----------|--------|
| M1 | {目标} | {日期} | {交付物} |
| M2 | {目标} | {日期} | {交付物} |

## 工时估算

| 阶段 | 任务 | 预计工时 |
|------|------|----------|
| ⑤ 任务分配 | 任务拆分 | {时间} |
| ⑥ 执行开发 | 代码实现 | {时间} |
| ⑦ 单元测试 | 测试编写 | {时间} |

## 风险识别

| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|----------|
| {风险} | 高/中/低 | 高/中/低 | {措施} |

## 依赖项

| 依赖 | 负责方 | 状态 | 阻塞 |
|------|--------|------|------|
| {依赖} | {负责方} | 待确认/已就绪 | 是/否 |
```

## Key Rules

- MVP 必须最小化，聚焦核心价值
- 里程碑必须有明确交付物
- 工时估算需合理，预留缓冲
- **必须归档到 `docs/plan/`**
