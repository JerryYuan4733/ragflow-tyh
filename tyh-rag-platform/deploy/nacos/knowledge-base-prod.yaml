# Nacos 生产配置模板 (T-059)
# Data ID: knowledge-base-prod.yaml
# Group: DEFAULT_GROUP
# 敏感字段使用 ${xxx} 占位，Nacos中配置加密值

# 数据库
database:
  url: "mysql+aiomysql://kb_user:${DB_PASSWORD}@172.31.1.3:4000/knowledge_base?charset=utf8mb4"
  pool_size: 10
  max_overflow: 20
  pool_recycle: 3600

# Redis
redis:
  url: "redis://:${REDIS_PASSWORD}@redis-master:6379/0"
  cache_ttl: 300  # 5分钟

# RAGflow
ragflow:
  base_url: "http://172.30.2.29/api/v1"
  api_key: "${RAGFLOW_API_KEY}"
  timeout: 120
  connect_timeout: 10

# JWT
jwt:
  secret_key: "${JWT_SECRET_KEY}"
  algorithm: "HS256"
  expire_hours: 24

# CORS
cors:
  origins:
    - "https://kb.internal.company.com"
    - "https://kb-staging.internal.company.com"

# 文件上传
upload:
  max_size_mb: 50
  allowed_types:
    - "application/pdf"
    - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    - "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
    - "text/plain"
    - "text/csv"

# 日志
logging:
  level: "INFO"
  format: "json"

# 安全
security:
  password_min_length: 8
  max_login_attempts: 5
  lockout_minutes: 30
